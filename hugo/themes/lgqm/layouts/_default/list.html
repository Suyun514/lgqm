{{ define "main" -}}
{{ $words := .WordCount }}{{ range .Pages }}{{ $words = add $words .WordCount }}{{ end }}

<h1 class="title has-text-centered">{{ .Title }}</h1>

<p class="subtitle has-text-centered">{{ $.Param "author" }} | 共 {{ $words }} 字 | {{ .Lastmod.Format (.Site.Params.dateFormatToUse | default "2006-01-02") }} | {{ with .GitInfo }}<a href="{{ $.Site.Params.gitRepo }}/commit/{{ .Hash }} " title="{{ .Subject }}" target="_blank">{{ .AbbreviatedHash }}</a>{{ end }} | {{ with .File }}<a href="{{ $.Site.Params.editURL }}{{ replace .Dir '\\' '/' }}{{ .LogicalName }}" target="_blank">编辑本页</a>{{ end }}</p>

<article class="post">
    <div class="content is-size-4">
		{{ .Content }}
    </div>
</article>

</br>

<p class="content is-size-4">本章共收录 {{ len .Pages }} 篇文章</p>

<ul class="content is-size-4">
{{ range .Pages.ByParam "id" -}}
  <li>
    <span><a href="{{ .Permalink }}"><!-- {{ printf "%04d" .Params.id }} -->{{ .Title }}</a></span>
  </li>
{{- end }}
</ul>

{{- end }}
